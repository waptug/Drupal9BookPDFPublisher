<!DOCTYPE html><html lang="en-US"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=Edge"><link rel="stylesheet" href="/d9book/assets/css/just-the-docs-default.css"> <script async src="https://www.googletagmanager.com/gtag/js?id=8V22RQEJ71"></script> <script> window.dataLayer = window.dataLayer || []; function gtag(){dataLayer.push(arguments);} gtag('js', new Date()); gtag('config', '8V22RQEJ71', { 'anonymize_ip': true }); </script> <script src="/d9book/assets/js/vendor/lunr.min.js"></script> <script src="/d9book/assets/js/just-the-docs.js"></script><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" href="/d9book/assets/images/favicon.ico" type="image/x-icon"><title>Home | Drupal Book</title><meta name="generator" content="Jekyll v4.3.2" /><meta property="og:title" content="Home" /><meta property="og:locale" content="en_US" /><meta name="description" content="Drupal at your fingertips" /><meta property="og:description" content="Drupal at your fingertips" /><link rel="canonical" href="https://selwynpolit.github.io/d9book/d9book/" /><meta property="og:url" content="https://selwynpolit.github.io/d9book/d9book/" /><meta property="og:site_name" content="Drupal Book" /><meta property="og:type" content="website" /><meta name="twitter:card" content="summary" /><meta property="twitter:title" content="Home" /> <script type="application/ld+json"> {"@context":"https://schema.org","@type":"WebSite","description":"Drupal at your fingertips","headline":"Home","name":"Drupal Book","url":"https://selwynpolit.github.io/d9book/d9book/"}</script><body> <a class="skip-to-main" href="#main-content">Skip to main content</a> <svg xmlns="http://www.w3.org/2000/svg" class="d-none"> <symbol id="svg-link" viewBox="0 0 24 24"><title>Link</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-link"><path d="M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71"></path><path d="M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71"></path> </svg> </symbol> <symbol id="svg-menu" viewBox="0 0 24 24"><title>Menu</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-menu"><line x1="3" y1="12" x2="21" y2="12"></line><line x1="3" y1="6" x2="21" y2="6"></line><line x1="3" y1="18" x2="21" y2="18"></line> </svg> </symbol> <symbol id="svg-arrow-right" viewBox="0 0 24 24"><title>Expand</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-chevron-right"><polyline points="9 18 15 12 9 6"></polyline> </svg> </symbol> <symbol id="svg-external-link" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-external-link"><title id="svg-external-link-title">(external link)</title><path d="M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6"></path><polyline points="15 3 21 3 21 9"></polyline><line x1="10" y1="14" x2="21" y2="3"></line> </symbol> <symbol id="svg-doc" viewBox="0 0 24 24"><title>Document</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-file"><path d="M13 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V9z"></path><polyline points="13 2 13 9 20 9"></polyline> </svg> </symbol> <symbol id="svg-search" viewBox="0 0 24 24"><title>Search</title><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-search"> <circle cx="11" cy="11" r="8"></circle><line x1="21" y1="21" x2="16.65" y2="16.65"></line> </svg> </symbol> <symbol id="svg-copy" viewBox="0 0 16 16"><title>Copy</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard" viewBox="0 0 16 16"><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1h1a1 1 0 0 1 1 1V14a1 1 0 0 1-1 1H3a1 1 0 0 1-1-1V3.5a1 1 0 0 1 1-1h1v-1z"/><path d="M9.5 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3zm-3-1A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3z"/> </svg> </symbol> <symbol id="svg-copied" viewBox="0 0 16 16"><title>Copied</title><svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" class="bi bi-clipboard-check-fill" viewBox="0 0 16 16"><path d="M6.5 0A1.5 1.5 0 0 0 5 1.5v1A1.5 1.5 0 0 0 6.5 4h3A1.5 1.5 0 0 0 11 2.5v-1A1.5 1.5 0 0 0 9.5 0h-3Zm3 1a.5.5 0 0 1 .5.5v1a.5.5 0 0 1-.5.5h-3a.5.5 0 0 1-.5-.5v-1a.5.5 0 0 1 .5-.5h3Z"/><path d="M4 1.5H3a2 2 0 0 0-2 2V14a2 2 0 0 0 2 2h10a2 2 0 0 0 2-2V3.5a2 2 0 0 0-2-2h-1v1A2.5 2.5 0 0 1 9.5 5h-3A2.5 2.5 0 0 1 4 2.5v-1Zm6.854 7.354-3 3a.5.5 0 0 1-.708 0l-1.5-1.5a.5.5 0 0 1 .708-.708L7.5 10.793l2.646-2.647a.5.5 0 0 1 .708.708Z"/> </svg> </symbol> </svg><div class="side-bar"><div class="site-header"> <a href="/d9book/" class="site-title lh-tight"> Drupal Book </a> <a href="#" id="menu-button" class="site-button"> <svg viewBox="0 0 24 24" class="icon"><use xlink:href="#svg-menu"></use></svg> </a></div><nav aria-label="Main" id="site-nav" class="site-nav"><ul class="nav-list"><li class="nav-list-item active"><a href="/d9book/" class="nav-list-link active">Home</a><li class="nav-list-item"><a href="/d9book/actions" class="nav-list-link">Actions</a><li class="nav-list-item"><a href="/d9book/attribution" class="nav-list-link">Attribution</a><li class="nav-list-item"><a href="/d9book/bq" class="nav-list-link">Batch and Queue</a><li class="nav-list-item"><a href="/d9book/blocks" class="nav-list-link">Blocks</a><li class="nav-list-item"><a href="/d9book/caching" class="nav-list-link">Caching</a><li class="nav-list-item"><a href="/d9book/composer" class="nav-list-link">Composer</a><li class="nav-list-item"><a href="/d9book/config" class="nav-list-link">Config</a><li class="nav-list-item"><a href="/d9book/cron" class="nav-list-link">Cron</a><li class="nav-list-item"><a href="/d9book/dates" class="nav-list-link">Dates and Times</a><li class="nav-list-item"><a href="/d9book/debugging" class="nav-list-link">Debugging</a><li class="nav-list-item"><a href="/d9book/development" class="nav-list-link">Development</a><li class="nav-list-item"><a href="/d9book/drush" class="nav-list-link">Drush</a><li class="nav-list-item"><a href="/d9book/email" class="nav-list-link">Email</a><li class="nav-list-item"><a href="/d9book/entities" class="nav-list-link">Entities</a><li class="nav-list-item"><a href="/d9book/forms" class="nav-list-link">Forms</a><li class="nav-list-item"><a href="/d9book/general" class="nav-list-link">General</a><li class="nav-list-item"><a href="/d9book/off-island" class="nav-list-link">Getting off the Island</a><li class="nav-list-item"><a href="/d9book/hooks" class="nav-list-link">Hooks</a><li class="nav-list-item"><a href="/d9book/learn" class="nav-list-link">Learning</a><li class="nav-list-item"><a href="/d9book/links" class="nav-list-link">Links</a><li class="nav-list-item"><a href="/d9book/logging" class="nav-list-link">Logging</a><li class="nav-list-item"><a href="/d9book/menus" class="nav-list-link">Menus</a><li class="nav-list-item"><a href="/d9book/migrate" class="nav-list-link">Migrate</a><li class="nav-list-item"><a href="/d9book/modals" class="nav-list-link">Modals</a><li class="nav-list-item"><a href="/d9book/nodes-and-fields" class="nav-list-link">Nodes and Fields</a><li class="nav-list-item"><a href="/d9book/queries" class="nav-list-link">Queries</a><li class="nav-list-item"><a href="/d9book/redirects" class="nav-list-link">Redirects</a><li class="nav-list-item"><a href="/d9book/render" class="nav-list-link">Render Arrays</a><li class="nav-list-item"><a href="/d9book/routes" class="nav-list-link">Routes</a><li class="nav-list-item"><a href="/d9book/security" class="nav-list-link">Security</a><li class="nav-list-item"><a href="/d9book/services" class="nav-list-link">Services</a><li class="nav-list-item"><a href="/d9book/state" class="nav-list-link">State</a><li class="nav-list-item"><a href="/d9book/taxonomy" class="nav-list-link">Taxonomy</a><li class="nav-list-item"><a href="/d9book/dtt" class="nav-list-link">Tests</a><li class="nav-list-item"><a href="/d9book/twig" class="nav-list-link">Twig</a></ul><ul class="nav-list"><li class="nav-list-item external"> <a href="https://github.com/selwynpolit/d9book/fork" class="nav-list-link external"> Fork me on GitHub <svg viewBox="0 0 24 24" aria-labelledby="svg-external-link-title"><use xlink:href="#svg-external-link"></use></svg> </a></ul></nav><footer class="site-footer"> This site uses <a href="https://github.com/just-the-docs/just-the-docs">Just the Docs</a>, a documentation theme for Jekyll.</footer></div><div class="main" id="top"><div id="main-header" class="main-header"><div class="search"><div class="search-input-wrap"> <input type="text" id="search-input" class="search-input" tabindex="0" placeholder="Search Drupal Book" aria-label="Search Drupal Book" autocomplete="off"> <label for="search-input" class="search-label"><svg viewBox="0 0 24 24" class="search-icon"><use xlink:href="#svg-search"></use></svg></label></div><div id="search-results" class="search-results"></div></div><nav aria-label="Auxiliary" class="aux-nav"><ul class="aux-nav-list"><li class="aux-nav-list-item"> <a href="//twitter.com/selwynpolit" class="site-button" target="_blank" rel="noopener noreferrer" > <img src='https://atuin.ru/demo/simple-icons/icons/twitter.svg' alt='Twitter logo' title='Author in Twitter' style='width: 30px; height: 30px;'> </a><li class="aux-nav-list-item"> <a href="//github.com/selwynpolit/d9book/tree/gh-pages" class="site-button" target="_blank" rel="noopener noreferrer" > <img src='https://atuin.ru/demo/simple-icons/icons/github.svg' alt='GitHub logo' title='D9Book on GitHub' style='width: 30px; height: 30px;'> </a></ul></nav></div><div id="main-content-wrap" class="main-content-wrap"><div id="main-content" class="main-content" role="main"><h2 id="drupal-at-your-fingertips"> <a href="#drupal-at-your-fingertips" class="anchor-heading" aria-labelledby="drupal-at-your-fingertips"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Drupal at your fingertips</h2><p><img src="assets/images/d9book.svg" alt="Image of Drupal drop over open pages of a book" /></p><h3 id="drupal-9--10-developers-quick-code-reference"> <a href="#drupal-9--10-developers-quick-code-reference" class="anchor-heading" aria-labelledby="drupal-9--10-developers-quick-code-reference"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> Drupal 9 &amp; 10 developer’s quick code reference</h3><p class="text-delta">by Selwyn Polit</p><p>This book is a quick reference for developers creating Drupal sites. While working on such sites during my career, I have gathered a large collection of notes and code which I use for my reference. I hope it will be useful for you, too.</p><p>During my hunting through examples on <a href="https://www.drupal.org/">Drupal.org</a>, <a href="https://stackoverflow.com/questions/tagged/drupal">Stack Overflow</a> and many other places, I often wished there was a succinct set of current annotated code samples explaining how to do things the <a href="https://events.drupal.org/neworleans2016/sessions/drupal-way-philosophy">Drupal way</a>. Of course, there is the excellent <a href="https://www.drupal.org/project/examples">examples module</a>, which is very handy. But this book is designed to otherwise fill that gap. Please forgive the <code class="language-plaintext highlighter-rouge">todo</code> items, but I’ve found that if I want to get it perfect, it won’t ever get published.</p><p>You are invited to contribute (in the open source way) by making edits and pull requests at <a href="https://github.com/selwynpolit/d9book/tree/gh-pages/book">this link on Github</a>. There is a very simple online editor which automatically forks the repo and lets you type your changes directly in your browser in <a href="https://github.github.com/gfm/">markdown format</a>. Try it by editing a chapter of interest to you. And while you are here, <a href="attribution">see who else contributed to the masterpiece 😉</a></p><p>If you are inspired, please be a part of this project by contributing your own thoughts, code snippets, tutorials, links etc. (Imposters are welcomed!) Add your name on the <a href="attribution">attribution page</a>. Either add a note in the comment form at the bottom of each page or click the <code class="language-plaintext highlighter-rouge">Edit this page on GitHub</code> also at the very bottom of any page and start editing. You don’t need to know Git.</p><p><img src="https://api.visitor.plantree.me/visitor-badge/pv?label=views&amp;color=informational&amp;namespace=d9book&amp;key=index.md" alt="views" /></p><ul><li><a href="bq">Batch and Queue - Batch API</a><li><a href="blocks">Blocks - Generate the code to create blocks, dependency injection, blocks with config forms, block permissions</a><li><a href="caching">Caching - Cache tags, disabling caching, caching REST resources, development setup, various caching tips</a><li><a href="composer">Composer, updates and patches</a><li><a href="config">Config - Creating, loading, overriding, drush config commands</a><li><a href="cron">Cron - Using hook_cron, sample crontab files, how to stop cron</a><li><a href="dates">Dates - Getting and setting date fields, date arithmetic, expiration, node creation and changed dates, Smart date module</a><li><a href="debugging">Debugging with PhpStorm, DDEV and Xdebug</a><li><a href="development">Development - Local setup, creating sites, DDEV, troubleshooting, PHPStorm setup, Xdebug setup, Twig debugging</a><li><a href="drush">Drush - the amazing command line tool that makes everyone's life so much better</a><li><a href="email">Email - Sending emails in Drupal</a><li><a href="entities">Entities - More entities - the primary building blocks of Drupal</a><li><a href="forms">Forms - Creating and modifying forms using the Form API, AJAX forms, modals</a><li><a href="general">General - Useful things that seemed to not fit well elsewhere</a><li><a href="hooks">Hooks - hooking into the Drupal hook system to make modifications</a><li><a href="learn">Learning and keeping up with the latest on Drupal</a><li><a href="links">Links, Aliases and URLs</a><li><a href="logging">Logging and notification</a><li><a href="menus">Menus</a><li><a href="migrate">Migration - automated ways to get data into Drupal</a><li><a href="modals">Modal dialogs</a><li><a href="nodes-and-fields">Nodes and Fields - Loading and saving nodes and different types of fields, multivalue field magic, link fields, entity reference fields, url fields, storing JSON data into text fields, paragraphs, great cheat sheets</a><li><a href="queries">Queries - entityQueries, SQL queries, inserting and deleting content</a><li><a href="reaching-out">Reaching out of Drupal</a><li><a href="redirects">Redirects</a><li><a href="render">Render Arrays</a><li><a href="routes">Routes and Controllers</a><li><a href="services">Services and Dependency injection</a><li><a href="state">State API, Tempstore and UserData (Interesting flavors of storage)</a><li><a href="taxonomy">Taxonomy</a><li><a href="dtt">PHPUnit and Drupal Test Traits</a><li><a href="twig">Twig - Formatting and controlling your output</a></ul><hr /><h3 id="im-working-on-writing-more-about"> <a href="#im-working-on-writing-more-about" class="anchor-heading" aria-labelledby="im-working-on-writing-more-about"><svg viewBox="0 0 16 16" aria-hidden="true"><use xlink:href="#svg-link"></use></svg></a> I’m working on writing more about:</h3><ul><li>Events<li>Custom Plugins<li>Javascript<li>Media image files<li>Migration<li>Miscellaneous<li>Paragraphs<li>Security and Preventing attacks<li>Single sign on<li>Views</ul><hr /> <script src="https://giscus.app/client.js" data-repo="selwynpolit/d9book" data-repo-id="MDEwOlJlcG9zaXRvcnkzMjUxNTQ1Nzg=" data-category="Q&amp;A" data-category-id="MDE4OkRpc2N1c3Npb25DYXRlZ29yeTMyMjY2NDE4" data-mapping="title" data-strict="0" data-reactions-enabled="1" data-emit-metadata="0" data-input-position="bottom" data-theme="preferred_color_scheme" data-lang="en" crossorigin="anonymous" async=""> </script><hr><footer><p><a href="#top" id="back-to-top">Back to top</a></p><p class="text-small text-grey-dk-100 mb-0"><span xmlns:cc="http://creativecommons.org/ns#" xmlns:dct="http://purl.org/dc/terms/"> <a property="dct:title" rel="cc:attributionURL" href="http://www.selwynpolit.github.io/d9book">Drupal at your fingertips</a> by <a rel="cc:attributionURL dct:creator" property="cc:attributionName" href="http://www.drupal.org/u/selwynpolit">Selwyn Polit</a> is licensed under <a href="http://creativecommons.org/licenses/by/4.0/" target="_blank" rel="license noopener noreferrer">CC BY 4.0 <img style="height:16px!important;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/cc.svg"> <img style="height:16px!important;vertical-align:text-bottom;" src="https://mirrors.creativecommons.org/presskit/icons/by.svg"> </a></span></p><div class="d-flex mt-2"><p class="text-small text-grey-dk-000 mb-0 mr-2"> Page last modified: <span class="d-inline-block">May 2 2023</span>.</p><p class="text-small text-grey-dk-000 mb-0"> <a href="https://github.com/selwynpolit/d9book/tree/gh-pages/index.md" id="edit-this-page">Edit this page on GitHub</a></p></div></footer></div></div><div class="search-overlay"></div></div>
